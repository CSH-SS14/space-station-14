- type: entity
  name: Пробка
  id: MobSpiderSpacePueen
  parent: 
  - MobAtmosStandard
  - MobSpaceBasic
  description: Он так светится, что выглядит опасным. 
  suffix: FraG 
  components:
  - type: Insulated
  - type: CombatMode
  - type: InputMover
  - type: MobMover
  - type: HTN  
  - type: Sprite #Спрайт
    drawdepth: Mobs
    sprite: Mobs/Animals/spider.rsi
    scale: 1.3, 1.3  
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: midwife-moving
  - type: MobThresholds #ХП
    thresholds:
      0: Alive
      350: Dead
  - type: Stamina
    excess: 150
  - type: DamageStateVisuals
    states:
      Alive:
        Base: midwife-moving
      Dead:
        Base: midwife_dead
  - type: Butcherable
    spawned:
    - id: FoodMeatSpider
      amount: 2
    - id: EggSpider
      amount: 1
      prob: 0.5
  - type: Bloodstream
    bloodMaxVolume: 250
    bloodReagent: Cryoxadone
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 120
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: MeleeWeapon
    hidden: true
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 0.
    animation: WeaponArcBite
    damage:
      types:
        Piercing: 25 #Урон
        Poison: 5
        Structural: 80
  - type: SolutionContainerManager
    solutions:
      melee:
        reagents:
        - ReagentId: ChloralHydrate #Колит Яд
          Quantity: 60 
  - type: MeleeChemicalInjector
    solution: melee
    transferAmount: 3
  - type: ReplacementAccent
    accent: xeno
  - type: InteractionPopup
    successChance: 0.20
    interactSuccessString: petting-success-tarantula
    interactFailureString: petting-failure-generic
  - type: NoSlip
  - type: IgnoreSpiderWeb
  - type: PassiveDamage # Slight passive regen. Assuming one damage type, comes out to about 4 damage a minute.Самолечение
    allowedStates:
    - Alive
    damageCap: 350
    damage:
      types:
        Heat: -5
      groups:
        Brute: -5    
        Toxin: -8
        Airloss: -5
        Burn: -5  
  - type: Tag
    tags:
      - CannotSuicide
      - DoorBumpOpener 
  - type: Tool # Open door from xeno.yml.
    speed: 1.5
    qualities:
      - Prying
    useSound:
      path: /Audio/Items/crowbar.ogg
  - type: Prying
    pryPowered: !type:Bool
        true
    force: !type:Bool
      true
    useSound:
      path: /Audio/Items/crowbar.ogg
  - type: GhostRole #Гост роль
    makeSentient: true
    allowSpeech: true
    allowMovement: true
    name: Космический паучий улей.
    description: Ваша задача — построить максимально большой улей. Сначала вам нужно защитить гнездо, паутину, королеву и яйца. Не нападайте первыми, только защищайтесь. Если человек убежал и не представляет особой опасности, можете его оставить и позволить ему уйти. Нельзя нападать на существ в крите, а умерших нужно относить подальше от логова, чтобы можно было их спасти.
  - type: GhostTakeoverAvailable   #Гост роль
  - type: Barotrauma #Урон от разгермы
    damage:
      types:
        Blunt: 0.7
        Heat: 0.7    
  - type: Temperature #Урон от температуры. 
    heatDamageThreshold: 325
    coldDamageThreshold: 260
    currentTemperature: 310.15
    specificHeat: 42
    coldDamage:
      types:
        Cold: 0.1 #per second, scales with temperature & other constants
    heatDamage:
      types:
        Heat: 0.1 #per second, scales with temperature & other constants     

     
- type: entity
  name: паук-королева
  id: MobSpiderSpaceQueen
  parent: MobSpiderSpacePueen
  description: Он так светится, что выглядит опасным.|
  suffix: FraG  
  components:    
  - type: AutoImplant
    implants:
    - LightImplantSpiderHunter  
    - LightImplantSpiderWallWeb 
    - LightImplantSpider
    - LightImplantSpiderGhost
    - LightImplantSpiderCrystal 
    - LightImplantSpiderLittle  
    - LightImplantSpiderSpider
  - type: Butcherable
    spawned:
    - id: FoodMeatSpider
      amount: 3
    - id: MobSpiderSpaceLittle
      amount: 7 
       
      
  
- type: entity
  name: паук-охранник
  id: MobSpiderSpaceDrone
  parent: MobSpiderSpacePueen
  description: Он так светится, что выглядит опасным.|
  suffix: FraG  
  components: 
  - type: Sprite #Спрайт
    drawdepth: Mobs
    sprite: Mobs/Animals/spider.rsi
    scale: 1, 1 
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: guard-moving
  - type: MobThresholds
    thresholds:
      0: Alive
      70: Dead   #ХП
  - type: Stamina
    excess: 150
  - type: DamageStateVisuals
    states:
      Alive:
        Base: guard-moving
      Dead:
        Base: guard_dead  
  - type: PassiveDamage # Slight passive regen. Assuming one damage type, comes out to about 4 damage a minute. Самолечение
    allowedStates:
    - Alive
    damageCap: 70
    damage:
      types:
        Heat: -6
      groups:
        Brute: -6    
        Toxin: -4
        Airloss: -6
        Burn: -6  
  - type: MeleeWeapon #Урон
    hidden: true
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 0
    animation: WeaponArcBite
    damage:
      types:
        Piercing: 5 #Урон
        Structural: 15
  - type: SolutionContainerManager #Колит яд
    solutions:
      melee:
        reagents:
        - ReagentId: ChloralHydrate
          Quantity: 0
  - type: AutoImplant
    implants:
    - LightImplantSpiderWallWeb 
    - LightImplantSpiderCrystal 
    - LightImplantSpiderSpider    
      
- type: entity
  name: паук-охотник
  id: MobSpiderSpaceHunter
  parent: MobSpiderSpacePueen
  description: Он так светится, что выглядит опасным.|
  suffix: FraG  
  components: 
  - type: Sprite #Спрайт
    drawdepth: Mobs
    sprite: Mobs/Animals/spider.rsi
    scale: 1, 1 
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: hunter-moving
  - type: MobThresholds
    thresholds:
      0: Alive
      110: Dead   #ХП
  - type: Stamina
    excess: 150
  - type: DamageStateVisuals
    states:
      Alive:
        Base: hunter-moving
      Dead:
        Base: hunter_dead 
  - type: PassiveDamage # Slight passive regen. Assuming one damage type, comes out to about 4 damage a minute. Самолечение
    allowedStates:
    - Alive
    damageCap: 110
    damage:
      types:
        Heat: -4
      groups:
        Brute: -4    
        Toxin: -6
        Airloss: -4
        Burn: -4  
  - type: MeleeWeapon #Урон
    hidden: true
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 0
    animation: WeaponArcBite
    damage:
      types:
        Piercing: 15 #Урон
        Structural: 20
  - type: SolutionContainerManager #Колит яд
    solutions:
      melee:
        reagents:
        - ReagentId: ChloralHydrate
          Quantity: 0        

- type: entity
  name: паук-призрак
  id: MobSpiderSpaceGhost
  parent: MobSpiderSpacePueen
  description: Он так светится, что выглядит опасным.
  suffix: FraG
  components: 
  - type: Sprite #Спрайт
    drawdepth: Mobs
    sprite: Mobs/Animals/spider.rsi
    scale: 1, 1 
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: nurse-moving
  - type: MobThresholds
    thresholds:
      0: Alive
      100: Dead   #ХП
  - type: Stamina
    excess: 150
  - type: DamageStateVisuals
    states:
      Alive:
        Base: nurse-moving
      Dead:
        Base: nurse_dead  
  - type: PassiveDamage # Slight passive regen. Assuming one damage type, comes out to about 4 damage a minute. Самолечение
    allowedStates:
    - Alive
    damageCap: 100
    damage:
      types:
        Heat: -3
      groups:
        Brute: -3    
        Toxin: -8
        Airloss: -3
        Burn: -3  
  - type: MeleeWeapon #Урон
    hidden: true
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 0
    animation: WeaponArcBite
    damage:
      types:
        Piercing: 3 #Урон
        Poison: 4
        Structural: 15
  - type: SolutionContainerManager #Колит яд
    solutions:
      melee:
        reagents:
        - ReagentId: ChloralHydrate
          Quantity: 15   
  - type: Stealth #Невидимость
  - type: StealthOnMove
    passiveVisibilityRate: -0.37
    movementVisibilityRate: 0.35
    
- type: entity
  name: маленький паук
  id: MobSpiderSpaceLittle
  parent: MobSpiderSpacePueen
  description: Он так светится, что выглядит опасным.
  suffix: FraG  
  components: 
  - type: Sprite #Спрайт
    drawdepth: Mobs
    sprite: Mobs/Animals/spider.rsi
    scale: 0.4, 0.4
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: viper-moving
  - type: MobThresholds
    thresholds:
      0: Alive
      10: Dead   #ХП
  - type: Stamina
    excess: 150
  - type: DamageStateVisuals
    states:
      Alive:
        Base: viper-moving
      Dead:
        Base: viper_dead
  - type: PassiveDamage # Slight passive regen. Assuming one damage type, comes out to about 4 damage a minute. Самолечение
    allowedStates:
    - Alive
    damageCap: 10
    damage:
      types:
        Heat: -0.5
      groups:
        Brute: -0.5  
        Toxin: -0.5
        Airloss: -0.5
        Burn: -0.5  
  - type: MeleeWeapon #Урон
    hidden: true
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 0
    animation: WeaponArcBite
    damage:
      types:
        Piercing: 2 #Урон
  - type: SolutionContainerManager #Колит яд
    solutions:
      melee:
        reagents:
        - ReagentId: ChloralHydrate
          Quantity: 0 
  - type: TimedDespawn #Система цикла
    lifetime: 20
  - type: GhostRole #Гост роль
    makeSentient: true
    allowSpeech: true
    allowMovement: true
    name: Маленький Паук
    description: Ваша задача - защитить королеву, через 20 секунд вы умрете.
  - type: GhostTakeoverAvailable        
       
#Сами импланты
- type: entity
  parent: BaseSubdermalImplant #Сам имплант 
  id: LightImplantSpider
  name: Откладывание яиц охранника
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionSpawnMagicarpSpellSpider      #Суда заклинание
    - type: PointLight
      enabled: false
      radius: 2.5
      softness: 5
      mask: /Textures/Effects/LightMasks/cone.png
      autoRot: true
    - type: Tag
      tags:
        - SubdermalImplant
        - HideContextMenu
        - Flashlight
    - type: UnpoweredFlashlight  
    
- type: entity
  parent: LightImplantSpider #Сам имплант 
  id: LightImplantSpiderHunter
  name: Откладывание яиц охотника
  description: 
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionSpawnMagicarpSpellSpiderHunter      #Суда заклинание
      
- type: entity
  parent: LightImplantSpider #Сам имплант 
  id: LightImplantSpiderGhost
  name: Откладывание яиц призрака
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionSpawnMagicarpSpellSpiderGhost      #Суда заклинание     

- type: entity
  parent: LightImplantSpider #Сам имплант 
  id: LightImplantSpiderCrystal 
  name: Создать кристалл 
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionSpawnMagicarpSpellSpiderCrystal       #Суда заклинание 
      
- type: entity
  parent: LightImplantSpider #Сам имплант 
  id: LightImplantSpiderWallWeb 
  name: Создать стену 
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionSpawnMagicarpSpellSpiderWallWeb         #Суда заклинание       
      
- type: entity
  parent: LightImplantSpider #Сам имплант 
  id: LightImplantSpiderLittle
  name: Выпустить детёнышей
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionSpawnMagicarpSpellSpiderLittle         #Суда заклинание    

- type: entity
  parent: LightImplantSpider #Сам имплант 
  id: LightImplantSpiderSpider
  name: Паутина
  description: Создаёт паутину, которая замедляет вашу добычу.
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionSpawnMagicarpSpellSpiderSpiderWeb           #Суда заклинание      
    
    
#Заклинания 
- type: entity 
  id: ActionSpawnMagicarpSpellSpider #Заклинание призыва охранника
  name: Откладывание яиц охранника
  description: Он же трутень, может строить кристаллы и стены. 
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 145 #КД
    range: 1
    itemIconStyle: BigAction
    icon:
      sprite: Objects/Magic/magicactions.rsi 
      state: magicmissile
    event: !type:WorldSpawnSpellEvent
      prototypes:
      - id: SpiderEggDrone
        amount: 1
      offset: 0, 1
      speech: Кссс...!?? 

- type: entity
  id: ActionSpawnMagicarpSpellSpiderHunter #Заклинание призыва охотника
  name: Откладывание яиц охотника
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 220 #КД
    range: 1
    itemIconStyle: BigAction
    icon:
      sprite: Objects/Magic/magicactions.rsi 
      state: magicmissile
    event: !type:WorldSpawnSpellEvent
      prototypes:
      - id: SpiderEggHunter
        amount: 1
      offset: 0, 1
      speech: Кссс...!?? 

- type: entity
  id: ActionSpawnMagicarpSpellSpiderGhost #Заклинание призыва призрака
  name: Откладывание яиц призрака
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 330 #КД
    range: 1
    itemIconStyle: BigAction
    icon:
      sprite: Objects/Magic/magicactions.rsi 
      state: magicmissile
    event: !type:WorldSpawnSpellEvent
      prototypes:
      - id: SpiderEggGhost
        amount: 1
      offset: 0, 1
      speech: Кссс...!?? 

- type: entity
  id: ActionSpawnMagicarpSpellSpiderCrystal #Заклинание призыва кристалла
  name: Создать яркий крисстал 
  description: Кристалл, который служит подсветкой для пауков.
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 20 #КД
    range: 1
    itemIconStyle: BigAction
    icon:
      sprite: Structures/Decoration/crystal.rsi
      state: crystal_grey
    event: !type:WorldSpawnSpellEvent
      prototypes:
      - id: CrystalBlue
        amount: 1
      offset: 0, 1
      speech: Кссс...!?? 

- type: entity
  id: ActionSpawnMagicarpSpellSpiderLittle #Заклинание призыва маленький пауков
  name: Выпустить детёнышей 
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 40 #КД
    range: 2
    itemIconStyle: BigAction
    icon:
      sprite: Mobs/Animals/spider.rsi
      state: viper_dead
    event: !type:WorldSpawnSpellEvent
      prototypes:
      - id: MobSpiderSpaceLittle
        amount: 3
      offset: 0, 1
      speech: Кссс...!??  

- type: entity
  id: ActionSpawnMagicarpSpellSpiderWallWeb #Заклинание призыва стены
  name: Создать стену из паутины
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 10 #КД
    range: 1.5
    itemIconStyle: BigAction
    icon:
      sprite: Structures/Walls/web.rsi
      state: full
    event: !type:WorldSpawnSpellEvent
      prototypes:
      - id: WallWeb
        amount: 1
      offset: 0, 1
      speech: Кссс...!??      
      
- type: entity
  id: ActionSpawnMagicarpSpellSpiderSpiderWeb #Заклинание призыва паутины
  name: Паутина
  description: Создаёт паутину, которая замедляет вашу добычу. 
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 5 #КД
    range: 1.5
    itemIconStyle: BigAction
    icon:
      sprite: Objects/Misc/spiderweb.rsi
      state: spider_web_1
    event: !type:WorldSpawnSpellEvent
      prototypes:
      - id: SpiderWeb1
        amount: 1
      offset: 0, 1
      speech: Кссс...!??       

#Яйца     
- type: entity #Охотник
  parent: BaseItem
  id: SpiderEggHunter 
  name: яйцо паука охотника
  description: Это драгоценный камень? Это яйцо? Оно выглядит дорогим.
  components:
  - type: TimedDespawn #Система цикла
    lifetime: 120
  - type: SpawnOnDespawn
    prototype: MobSpiderSpaceHunter   #Система цикла
  - type: Sprite
    sprite: Objects/Misc/eggspider.rsi
    state: icon
  - type: MeleeWeapon
    damage:
      types:
        Blunt: 6
        Structural: 2
    animation: WeaponArcPunch
  - type: Item
    size: Small
  - type: PointLight
    radius: 1.5
    energy: 3
    color: "#4faffb"
  - type: StaticPrice
    price: 2500    

- type: entity #охранника
  parent: BaseItem
  id: SpiderEggDrone
  name: яйцо паука охранника
  description: Это драгоценный камень? Это яйцо? Оно выглядит дорогим.
  components:
  - type: TimedDespawn #Система цикла
    lifetime: 45
  - type: SpawnOnDespawn
    prototype: MobSpiderSpaceDrone   #Система цикла
  - type: Sprite
    sprite: Objects/Misc/eggspider.rsi
    state: icon
  - type: MeleeWeapon
    damage:
      types:
        Blunt: 6
        Structural: 2
    animation: WeaponArcPunch
  - type: Item
    size: Small
  - type: PointLight
    radius: 1.5
    energy: 3
    color: "#4faffb"
  - type: StaticPrice
    price: 2500  

- type: entity #Призрак
  parent: BaseItem
  id: SpiderEggGhost
  name: яйцо паука призрака
  description: Это драгоценный камень? Это яйцо? Оно выглядит дорогим.
  components:
  - type: TimedDespawn #Система цикла
    lifetime: 200
  - type: SpawnOnDespawn
    prototype: MobSpiderSpaceGhost   #Система цикла
  - type: Sprite
    sprite: Objects/Misc/eggspider.rsi
    state: icon
  - type: MeleeWeapon
    damage:
      types:
        Blunt: 6
        Structural: 2
    animation: WeaponArcPunch
  - type: Item
    size: Small
  - type: PointLight
    radius: 1.5
    energy: 3
    color: "#4faffb"
  - type: StaticPrice
    price: 2500  

#Всякое
- type: entity
  parent: ShardCrystalBase #Осколок кристалла 
  name: blue crystal shard
  id: ShardCrystalBlue1
  components:
  - type: Sprite
    color: "#39a1ff"
  - type: PointLight
    radius: 2
    energy: 2.5
    color: "#39a1ff"
  - type: Tag
    tags:
      - Trash
      - CrystalBlue 
  - type: StaticPrice
    price: 350  

- type: entity
  id: SpiderWeb1 #Паутина без шелка. 
  name: spider web
  description: It's stringy and sticky.
  placement:
    mode: SnapgridCenter
    snap:
      - Wall
  components:
    - type: MeleeSound
      soundGroups:
        Brute:
          path:
            "/Audio/Weapons/slash.ogg"
    - type: Sprite
      sprite: Objects/Misc/spiderweb.rsi
      layers:
        - state: spider_web_1
          map: ["spiderWebLayer"]
      drawdepth: WallMountedItems
    - type: Appearance
    - type: GenericVisualizer
      visuals:
        enum.SpiderWebVisuals.Variant:
          spiderWebLayer:
            1:  {state: spider_web_1}
            2:  {state: spider_web_2}
    - type: Clickable
    - type: Transform
      anchored: true
    - type: Physics
    - type: Fixtures
      fixtures:
        fix1:
          hard: false
          density: 7
          shape:
            !type:PhysShapeAabb
            bounds: "-0.5,-0.5,0.5,0.5"
          layer:
          - MidImpassable
    - type: Damageable
      damageModifierSet: Wood
    - type: Destructible
      thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 10
        behaviors:
        - !type:DoActsBehavior
          acts: [ "Destruction" ]
    - type: Temperature
      heatDamage:
        types:
          Heat: 5
      coldDamage: {}
      coldDamageThreshold: 0
    - type: Flammable
      fireSpread: true
      damage:
        types:
          Heat: 5
    - type: Reactive
      groups:
        Flammable: [Touch]
        Extinguish: [Touch]
    - type: SpiderWebObject
    - type: SpeedModifierContacts
      walkSpeedModifier: 0.5
      sprintSpeedModifier: 0.5
      ignoreWhitelist:
        components:
            - IgnoreSpiderWeb    
    
  

    
      
        
        
